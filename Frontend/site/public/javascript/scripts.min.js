"use strict";var latitude,longitude,attraction_map,attraction_map_container=document.getElementById("map-container");attraction_map_container&&(latitude=parseFloat(document.getElementById("attraction__latitude").textContent),longitude=parseFloat(document.getElementById("attraction__longitude").textContent),attraction_map=L.map("map-container").setView([latitude,longitude],16),L.tileLayer("https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',maxZoom:18,tileSize:256,zoomOffset:0}).addTo(attraction_map),L.marker([latitude,longitude]).addTo(attraction_map)),console.log("carousel");var dropdownActive=!1;function toggleMenuVisibility(){dropdownActive?(dropdownActive=!1,dropdownMenuItems.style.display="none"):(dropdownActive=!0,dropdownMenuItems.style.display="block")}function menuButtonKeydown(t){9!=t.keyCode&&toggleMenuVisibility()}function lastLinkButtonKeydown(t){9==t.keyCode&&toggleMenuVisibility()}var dropdownMenuButton=document.getElementById("dropdown-menu-button"),dropdownMenuItems=document.getElementById("dropdown-menu-items"),finalDropdownMenuLink=dropdownMenuItems.children[dropdownMenuItems.children.length-1];dropdownMenuButton.addEventListener("click",toggleMenuVisibility),dropdownMenuButton.addEventListener("keydown",menuButtonKeydown),finalDropdownMenuLink.addEventListener("keydown",lastLinkButtonKeydown);var _latitude,_longitude,landingPageMap,attractions,landingPageMapContainer=document.getElementById("landing-page-hero__map-container");landingPageMapContainer&&(_latitude=51.453749,_longitude=-2.591873,landingPageMap=L.map("landing-page-hero__map-container",{zoomControl:!1}).setView([_latitude,_longitude],14),L.tileLayer("https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg",{attribution:"Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under ODbL.",maxZoom:18,tileSize:256,zoomOffset:0}).addTo(landingPageMap));var landingPageExploreContainer=document.getElementById("landing-page__explore-section"),attractionsVisited=0;function getSubcategoryChoices(){for(var t={},e=0;e<attractions.length;e++){var n=attractions[e];if(0==n.visited)for(var o=0;o<n.subcategories.length;o++){var i=n.subcategories[o];if(i in t==0){t[i.name]=e;break}}}return t}function displayNextChoiceCard(t){var e;t==attractionsVisited+1&&(fillInChoiceCard(t),e="choice-card--"+t.toString(),document.getElementById(e).style.display="block")}function fillInChoiceCard(t){var e=getSubcategoryChoices(),n="choice-card-list--"+t.toString(),o=document.getElementById(n);if(o.innerHTML="",0!=Object.entries(e).length){var i=3;Object.entries(e).length<i&&(i=Object.entries(e).length);for(var a=0;a<i;a++){var r="";r+='<a href="#attraction-card--'+t+'" onclick="fillInAttractionCard('+t+", ",r+=Object.entries(e)[a][1].toString(),r+=')"><li class="card__link-item">',r+=Object.entries(e)[a][0].toString(),r+="</li></a>",o.innerHTML+=r}}else o.innerHTML="<p class='landing-page__choice-card--error-message'>We're sorry, but there are no other registered attractions in this region. This website is under development and more will be added soon.</p>"}function fillInAttractionCard(t,e){var n,o,i,a,r,d,l,c,s,g;t==attractionsVisited+1&&(attractionsVisited+=1,n="attraction-card--"+t.toString(),document.getElementById(n).style.display="block",o=attractions[e],i="attraction-card--image-"+t.toString(),a="attraction-card--title-"+t.toString(),r="attraction-card--tagline-"+t.toString(),d="attraction-card--explore-link-"+t.toString(),l=document.getElementById(i),c=document.getElementById(a),s=document.getElementById(r),g=document.getElementById(d),c.innerHTML=o.name,s.innerHTML=o.tagline,l.style.backgroundImage="url('http://localhost:1337"+o.image[0].url+"')",g.href="http://localhost:3000/attractions/"+o.id,o.visited=!0)}function loadRegionContent(t){var e;0==attractionsVisited&&(e="http://localhost:1337/attractions?region="+encodeURIComponent(t),fetch(e).then(function(t){return t.json()}).then(function(t){attractions=t;for(var e=0;e<attractions.length;e++)attractions[e].visited=!1;fillInChoiceCard(1),document.getElementById("choice-card--1").style.display="block"}),exploreSectionHider.style.display="none",landingPageExploreContainer.scrollIntoView({behavior:"smooth"}))}var region_arnos_vale=document.getElementById("interactive-map--arnos-vale"),region_temple_meads=document.getElementById("interactive-map--temple-meads"),region_southville=document.getElementById("interactive-map--southville"),region_harbourside=document.getElementById("interactive-map--harbourside"),region_city_centre=document.getElementById("interactive-map--city-centre"),region_clifton=document.getElementById("interactive-map--clifton"),region_stokes_croft=document.getElementById("interactive-map--stokes-croft"),finishButton=document.getElementById("attraction-card--finish-button"),adventureEndCard=document.getElementById("adventure-end-card"),exploreSectionHider=document.getElementById("landing-page__explore-section-hider");region_arnos_vale&&(region_arnos_vale.addEventListener("click",function(){loadRegionContent("Arnos Vale")},!1),region_temple_meads.addEventListener("click",function(){loadRegionContent("Temple Meads")},!1),region_southville.addEventListener("click",function(){loadRegionContent("Southville")},!1),region_harbourside.addEventListener("click",function(){loadRegionContent("Harbourside")},!1),region_city_centre.addEventListener("click",function(){loadRegionContent("City Centre")},!1),region_clifton.addEventListener("click",function(){loadRegionContent("Clifton")},!1),region_stokes_croft.addEventListener("click",function(){loadRegionContent("Stokes Croft")},!1),finishButton.addEventListener("click",function(){adventureEndCard.style.display="block"},!1));