"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,a=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var latitude,longitude,attraction_map,attraction_map_container=document.getElementById("map-container");attraction_map_container&&(latitude=parseFloat(document.getElementById("attraction__latitude").textContent),longitude=parseFloat(document.getElementById("attraction__longitude").textContent),attraction_map=L.map("map-container").setView([latitude,longitude],16),L.tileLayer("https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',maxZoom:18,tileSize:256,zoomOffset:0}).addTo(attraction_map),L.marker([latitude,longitude]).addTo(attraction_map)),console.log("carousel");var dropdownActive=!1;function toggleMenuVisibility(){dropdownActive?(dropdownActive=!1,dropdownMenuItems.style.display="none"):(dropdownActive=!0,dropdownMenuItems.style.display="block")}function menuButtonKeydown(e){9!=e.keyCode&&toggleMenuVisibility()}function lastLinkButtonKeydown(e){9==e.keyCode&&toggleMenuVisibility()}var dropdownMenuButton=document.getElementById("dropdown-menu-button"),dropdownMenuItems=document.getElementById("dropdown-menu-items"),finalDropdownMenuLink=dropdownMenuItems.children[dropdownMenuItems.children.length-1];dropdownMenuButton.addEventListener("click",toggleMenuVisibility),dropdownMenuButton.addEventListener("keydown",menuButtonKeydown),finalDropdownMenuLink.addEventListener("keydown",lastLinkButtonKeydown);var _latitude,_longitude,landingPageMap,attractions,landingPageMapContainer=document.getElementById("landing-page-hero__map-container");landingPageMapContainer&&(_latitude=51.453749,_longitude=-2.591873,landingPageMap=L.map("landing-page-hero__map-container",{zoomControl:!1}).setView([_latitude,_longitude],14),L.tileLayer("https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg",{attribution:"Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under ODbL.",maxZoom:18,tileSize:256,zoomOffset:0}).addTo(landingPageMap));var attractionsVisited=0,landingPageExploreContainer=document.getElementById("landing-page__explore-section");function getSubcategoryChoices(){for(var e={},t=0;t<attractions.length;t++){var n=attractions[t];if(0==n.visited)for(var o=0;o<n.subcategories.length;o++){var a=n.subcategories[o];if(a in e==0){e[a.name]=t;break}}}return e}function fillInChoiceCard(e){for(var t=getSubcategoryChoices(),n=0,o=Object.entries(t);n<o.length;n++){var a=_slicedToArray(o[n],2),r=a[0],i=(a[1],document.createElement("P"));i.innerHTML=r,landingPageExploreContainer.appendChild(i)}}function fillInAttractionCard(e){}function loadRegionContent(e){var t="http://localhost:1337/attractions?region="+encodeURIComponent(e);fetch(t).then(function(e){return e.json()}).then(function(e){attractions=e;for(var t=0;t<attractions.length;t++)attractions[t].visited=!1;fillInChoiceCard(1)}),landingPageExploreContainer.scrollIntoView({behavior:"smooth"})}var region_arnos_vale=document.getElementById("interactive-map--arnos-vale"),region_temple_meads=document.getElementById("interactive-map--temple-meads"),region_southville=document.getElementById("interactive-map--southville"),region_harbourside=document.getElementById("interactive-map--harbourside"),region_city_centre=document.getElementById("interactive-map--city-centre"),region_clifton=document.getElementById("interactive-map--clifton"),region_stokes_croft=document.getElementById("interactive-map--stokes-croft");region_arnos_vale&&(region_arnos_vale.addEventListener("click",function(){loadRegionContent("Arnos Vale")},!1),region_temple_meads.addEventListener("click",function(){loadRegionContent("Temple Meads")},!1),region_southville.addEventListener("click",function(){loadRegionContent("Southville")},!1),region_harbourside.addEventListener("click",function(){loadRegionContent("Harbourside")},!1),region_city_centre.addEventListener("click",function(){loadRegionContent("City Centre")},!1),region_clifton.addEventListener("click",function(){loadRegionContent("Clifton")},!1),region_stokes_croft.addEventListener("click",function(){loadRegionContent("Stokes Croft")},!1));